function change_volumn_time(){var a=document.forms[0];if(a.tm_type[0].checked==true){a.conntime_monthly_limit.disabled=true;a.traff_dir.disabled=false;a.volume_monthly_limit.disabled=false;if(basic_type==1){a.round_up_volume.disabled=true}else{a.round_up_volume.disabled=false}}else{a.conntime_monthly_limit.disabled=false;a.traff_dir.disabled=true;a.volume_monthly_limit.disabled=true;a.round_up_volume.disabled=true}}function set_gray(){var b=document.forms[0];var a;a=(!(b.checkTraffic.checked));setDisabled(a,b.tm_type[0],b.tm_type[1],b.traff_dir,b.volume_monthly_limit,b.round_up_volume,b.conntime_monthly_limit,b.hour,b.minute,b.day,b.waterMark,b.checkBlock,b.ampm,b.restartCounter,b.refresh,b.trafficStatus,b.wan_interface);if(basic_type==1){setDisabled(true,b.round_up_volume,b.tm_type[1],b.conntime_monthly_limit)}if(b.checkTraffic.checked==true){document.getElementById("restart").className="long_common_bt";document.getElementById("refresh").className="common_key_bt";document.getElementById("status").className="common_key_bt";change_volumn_time();check_limit()}else{document.getElementById("restart").className="long_common_gray_bt";document.getElementById("refresh").className="common_key_gray_bt";document.getElementById("status").className="common_key_gray_bt"}}function check_traffic_apply(e){var e=document.forms[0];if(e.checkTraffic.checked==true){e.endis_traffic.value=1}else{e.endis_traffic.value=0}if(readyshare_mobile=="1"){if(mobile_conn_status!="15"&&e.wan_interface.value=="1"){location.href="traffic.htm";return false}}if(e.checkTraffic.checked==true){if(e.tm_type[0].checked){e.hidden_tm_type.value="0";if(e.traff_dir.value=="No limit"){e.hidden_traff_dir.value="0"}else{if(e.traff_dir.value=="Download only"){e.hidden_traff_dir.value="1"}else{e.hidden_traff_dir.value="2"}}if(e.volume_monthly_limit.value==""){alert("$monthly_limit_error");return false}if(!_isNumeric(e.volume_monthly_limit.value)){alert("$monthly_limit_error");return false}if(parseInt(e.volume_monthly_limit.value)>4293918720){alert("$monthly_limit_error");return false}if(e.round_up_volume.value==""){alert("$round_up_data_error");return false}if(!_isNumeric(e.round_up_volume.value)){alert("$round_up_data_error");return false}if(e.waterMark.value==""){alert("$left_volumn_error");return false}if(!_isNumeric(e.waterMark.value)){alert("$left_volumn_error");return false}if(e.traff_dir.value!="No limit"&&(parseInt(e.waterMark.value)!="0"||parseInt(e.volume_monthly_limit.value)!="0")){if(parseInt(e.waterMark.value)>=parseInt(e.volume_monthly_limit.value)){alert("$left_volumn_small");return false}}if(basic_type==1&&e.round_up_volume.value!="0"){e.round_up_volume.value="0"}if(basic_type==0&&parseInt(e.round_up_volume.value)!="0"&&parseInt(e.volume_monthly_limit.value)!="0"){if(parseInt(e.round_up_volume.value)>=parseInt(e.volume_monthly_limit.value)){alert("$round_volumn_small");return false}}e.hidden_round_up.value=e.round_up_volume.value}else{e.hidden_tm_type.value="1";var d=e.conntime_monthly_limit.value;if(e.conntime_monthly_limit.value==""){alert("$monthly_limit_error");return false}for(var b=0;b<d.length;b++){if(!(d[b]>=0&&d[b]<=9)){alert("$month_linmit_int");return false}}if(!(e.conntime_monthly_limit.value<=744)){alert("$monthly_limit_744");return false}if(e.waterMark.value==""){alert("$left_volumn_error");return false}if(!_isNumeric(e.waterMark.value)){alert("$left_volumn_error");return false}if(parseInt(e.waterMark.value)>=parseInt(e.conntime_monthly_limit.value)*60){alert("$left_volumn_small");return false}}if((e.hour.value<0)||(e.hour.value>11)||(e.minute.value<0)||(e.minute.value>59)){alert("$invalid_time");return false}if((!_isNumeric(e.hour.value))||(!_isNumeric(e.minute.value))){alert("$invalid_time");return false}if((e.hour.value=="")||(e.minute.value=="")){alert("$invalid_time");return false}var a=e.hour.value;var f=e.minute.value;if(a.length<2){a="0"+a}if(f.length<2){f="0"+f}if(e.ampm.selectedIndex==1){a=parseInt(a,10)+12;a=a.toString()}e.restart_counter_time.value=a+":"+f;if(e.checkBlock.checked==true){e.traffic_block_all.value=1}else{e.traffic_block_all.value=0}}e.submit();return true}function click_restart(){var a=document.forms[0];if(a.checkTraffic.checked==true){if(!confirm("$traffic_restart_counter")){return false}a.submit_flag.value="traffic_reset";a.submit()}}function click_refresh_2(){var a=document.forms[0];if(a.checkTraffic.checked==true){location.href="traffic.htm"}}function click_status(){var a=document.forms[0];if(a.checkTraffic.checked==true){window.open("show_traffic.htm","show_traffic","width=600,height=400,top=200,left=200,status=yes,resizable=yes")}}function reset_time(){cf=document.forms[0];if(cf.interval.value==""){cf.interval.value="10";return true}var a=cf.interval.value;for(i=0;i<a.length;i++){c=a.charAt(i);if("0123456789".indexOf(c,0)<0){alert("$rang_pool");return false}}cf.interval.value=parseInt(cf.interval.value,10);if(!(cf.interval.value>=5&&cf.interval.value<=86400)){alert("$rang_pool");return false}cf.submit();return true}function click_refresh(){cf=document.forms[0];cf.submit_flag.value="refresh_traffic";cf.action="/cgi-bin/no_commit.cgi?/cgi-bin/traffic.htm";cf.submit()};